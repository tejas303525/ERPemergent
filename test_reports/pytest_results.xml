<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="5" failures="2" skipped="2" tests="15" time="0.914" timestamp="2025-12-29T08:14:34.554899+00:00" hostname="agent-env-2349b2e8-6559-481b-baa6-0e4f6d2aa374"><testcase classname="backend.tests.test_erp_backend.TestInventoryStatus" name="test_get_inventory_items" time="0.302" /><testcase classname="backend.tests.test_erp_backend.TestInventoryStatus" name="test_get_inventory_item_availability" time="0.063" /><testcase classname="backend.tests.test_erp_backend.TestEmailOutbox" name="test_get_email_outbox" time="0.050" /><testcase classname="backend.tests.test_erp_backend.TestAutoProcurement" name="test_auto_generate_procurement" time="0.008" /><testcase classname="backend.tests.test_erp_backend.TestRFQFlow" name="test_create_rfq" time="0.000"><error message="failed on setup with &quot;Failed: ScopeMismatch: You tried to access the function scoped fixture admin_client with a class scoped request object. Requesting fixture stack:&#10;backend/tests/test_erp_backend.py:195:  def test_supplier(admin_client)&#10;Requested fixture:&#10;backend/tests/test_erp_backend.py:71:  def admin_client(api_client, admin_token)&quot;">ScopeMismatch: You tried to access the function scoped fixture admin_client with a class scoped request object. Requesting fixture stack:
backend/tests/test_erp_backend.py:195:  def test_supplier(admin_client)
Requested fixture:
backend/tests/test_erp_backend.py:71:  def admin_client(api_client, admin_token)</error></testcase><testcase classname="backend.tests.test_erp_backend.TestRFQFlow" name="test_get_rfqs" time="0.048" /><testcase classname="backend.tests.test_erp_backend.TestRFQFlow" name="test_send_rfq" time="0.000"><error message="failed on setup with &quot;Failed: ScopeMismatch: You tried to access the function scoped fixture admin_client with a class scoped request object. Requesting fixture stack:&#10;backend/tests/test_erp_backend.py:195:  def test_supplier(admin_client)&#10;Requested fixture:&#10;backend/tests/test_erp_backend.py:71:  def admin_client(api_client, admin_token)&quot;">ScopeMismatch: You tried to access the function scoped fixture admin_client with a class scoped request object. Requesting fixture stack:
backend/tests/test_erp_backend.py:195:  def test_supplier(admin_client)
Requested fixture:
backend/tests/test_erp_backend.py:71:  def admin_client(api_client, admin_token)</error></testcase><testcase classname="backend.tests.test_erp_backend.TestRFQFlow" name="test_update_rfq_quote" time="0.000"><error message="failed on setup with &quot;Failed: ScopeMismatch: You tried to access the function scoped fixture admin_client with a class scoped request object. Requesting fixture stack:&#10;backend/tests/test_erp_backend.py:195:  def test_supplier(admin_client)&#10;Requested fixture:&#10;backend/tests/test_erp_backend.py:71:  def admin_client(api_client, admin_token)&quot;">ScopeMismatch: You tried to access the function scoped fixture admin_client with a class scoped request object. Requesting fixture stack:
backend/tests/test_erp_backend.py:195:  def test_supplier(admin_client)
Requested fixture:
backend/tests/test_erp_backend.py:71:  def admin_client(api_client, admin_token)</error></testcase><testcase classname="backend.tests.test_erp_backend.TestRFQFlow" name="test_convert_rfq_to_po" time="0.000"><error message="failed on setup with &quot;Failed: ScopeMismatch: You tried to access the function scoped fixture admin_client with a class scoped request object. Requesting fixture stack:&#10;backend/tests/test_erp_backend.py:195:  def test_supplier(admin_client)&#10;Requested fixture:&#10;backend/tests/test_erp_backend.py:71:  def admin_client(api_client, admin_token)&quot;">ScopeMismatch: You tried to access the function scoped fixture admin_client with a class scoped request object. Requesting fixture stack:
backend/tests/test_erp_backend.py:195:  def test_supplier(admin_client)
Requested fixture:
backend/tests/test_erp_backend.py:71:  def admin_client(api_client, admin_token)</error></testcase><testcase classname="backend.tests.test_erp_backend.TestFinanceApproval" name="test_get_pending_approval" time="0.279"><failure message="AssertionError: Expected 200, got 404: {&quot;detail&quot;:&quot;PO not found&quot;}&#10;assert 404 == 200&#10; +  where 404 = &lt;Response [404]&gt;.status_code">backend/tests/test_erp_backend.py:435: in test_get_pending_approval
    assert response.status_code == 200, f"Expected 200, got {response.status_code}: {response.text}"
E   AssertionError: Expected 200, got 404: {"detail":"PO not found"}
E   assert 404 == 200
E    +  where 404 = &lt;Response [404]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_erp_backend.TestFinanceApproval" name="test_finance_approve_po" time="0.000"><error message="failed on setup with &quot;Failed: ScopeMismatch: You tried to access the function scoped fixture admin_client with a class scoped request object. Requesting fixture stack:&#10;backend/tests/test_erp_backend.py:380:  def test_po(admin_client)&#10;Requested fixture:&#10;backend/tests/test_erp_backend.py:71:  def admin_client(api_client, admin_token)&quot;">ScopeMismatch: You tried to access the function scoped fixture admin_client with a class scoped request object. Requesting fixture stack:
backend/tests/test_erp_backend.py:380:  def test_po(admin_client)
Requested fixture:
backend/tests/test_erp_backend.py:71:  def admin_client(api_client, admin_token)</error></testcase><testcase classname="backend.tests.test_erp_backend.TestFinanceApproval" name="test_finance_reject_po" time="0.050"><skipped type="pytest.skip" message="No suppliers available">/app/backend/tests/test_erp_backend.py:473: No suppliers available</skipped></testcase><testcase classname="backend.tests.test_erp_backend.TestFinanceApproval" name="test_send_approved_po" time="0.008"><skipped type="pytest.skip" message="No suppliers available">/app/backend/tests/test_erp_backend.py:509: No suppliers available</skipped></testcase><testcase classname="backend.tests.test_erp_backend.TestDrumSchedule" name="test_get_drum_schedule" time="0.015"><failure message="AssertionError: assert 'days' in {'daily_capacity': 600, 'daily_usage': {'2025-12-29': 350}, 'schedule_days': [{'blocking_details': None, 'blocking_reason': 'NONE', 'campaign': {'bom_id': '00e3c668-f8e8-45be-ab57-5794eec277e1', 'bom_version': 1, 'created_at': '2025-12-29T06:18:48.092082+00:00', 'earliest_due_date': '2026-01-12T06:18:31.775421+00:00', ...}, 'campaign_id': '9ae30acb-d091-4ce5-b8c6-39d19bcf92cf', ...}, {'blocking_details': None, 'blocking_reason': 'NONE', 'campaign': {'bom_id': 'bfc302ba-4d67-4f94-8727-d072245162eb', 'bom_version': 1, 'created_at': '2025-12-29T06:18:48.093097+00:00', 'earliest_due_date': '2026-01-12T06:18:31.775969+00:00', ...}, 'campaign_id': '0c306182-6329-480d-ad10-db3c1bb0f7d7', ...}], 'week_start': '2025-12-29'}">backend/tests/test_erp_backend.py:573: in test_get_drum_schedule
    assert "days" in data
E   AssertionError: assert 'days' in {'daily_capacity': 600, 'daily_usage': {'2025-12-29': 350}, 'schedule_days': [{'blocking_details': None, 'blocking_reason': 'NONE', 'campaign': {'bom_id': '00e3c668-f8e8-45be-ab57-5794eec277e1', 'bom_version': 1, 'created_at': '2025-12-29T06:18:48.092082+00:00', 'earliest_due_date': '2026-01-12T06:18:31.775421+00:00', ...}, 'campaign_id': '9ae30acb-d091-4ce5-b8c6-39d19bcf92cf', ...}, {'blocking_details': None, 'blocking_reason': 'NONE', 'campaign': {'bom_id': 'bfc302ba-4d67-4f94-8727-d072245162eb', 'bom_version': 1, 'created_at': '2025-12-29T06:18:48.093097+00:00', 'earliest_due_date': '2026-01-12T06:18:31.775969+00:00', ...}, 'campaign_id': '0c306182-6329-480d-ad10-db3c1bb0f7d7', ...}], 'week_start': '2025-12-29'}</failure></testcase><testcase classname="backend.tests.test_erp_backend" name="test_summary" time="0.000" /></testsuite></testsuites>